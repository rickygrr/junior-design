{"ast":null,"code":"import { messages } from './messages';\n/**\n * @hidden\n */\n\nexport var filterLogicList = [{\n  text: 'grid.filterAndLogic',\n  operator: 'and'\n}, {\n  text: 'grid.filterOrLogic',\n  operator: 'or'\n}];\n/**\n * @hidden\n */\n\nexport var operators = {\n  'text': [{\n    text: 'grid.filterContainsOperator',\n    operator: 'contains'\n  }, {\n    text: 'grid.filterNotContainsOperator',\n    operator: 'doesnotcontain'\n  }, {\n    text: 'grid.filterEqOperator',\n    operator: 'eq'\n  }, {\n    text: 'grid.filterNotEqOperator',\n    operator: 'neq'\n  }, {\n    text: 'grid.filterStartsWithOperator',\n    operator: 'startswith'\n  }, {\n    text: 'grid.filterEndsWithOperator',\n    operator: 'endswith'\n  }, {\n    text: 'grid.filterIsNullOperator',\n    operator: 'isnull'\n  }, {\n    text: 'grid.filterIsNotNullOperator',\n    operator: 'isnotnull'\n  }, {\n    text: 'grid.filterIsEmptyOperator',\n    operator: 'isempty'\n  }, {\n    text: 'grid.filterIsNotEmptyOperator',\n    operator: 'isnotempty'\n  }],\n  'numeric': [{\n    text: 'grid.filterEqOperator',\n    operator: 'eq'\n  }, {\n    text: 'grid.filterNotEqOperator',\n    operator: 'neq'\n  }, {\n    text: 'grid.filterGteOperator',\n    operator: 'gte'\n  }, {\n    text: 'grid.filterGtOperator',\n    operator: 'gt'\n  }, {\n    text: 'grid.filterLteOperator',\n    operator: 'lte'\n  }, {\n    text: 'grid.filterLtOperator',\n    operator: 'lt'\n  }, {\n    text: 'grid.filterIsNullOperator',\n    operator: 'isnull'\n  }, {\n    text: 'grid.filterIsNotNullOperator',\n    operator: 'isnotnull'\n  }],\n  'date': [{\n    text: 'grid.filterEqOperator',\n    operator: 'eq'\n  }, {\n    text: 'grid.filterNotEqOperator',\n    operator: 'neq'\n  }, {\n    text: 'grid.filterAfterOrEqualOperator',\n    operator: 'gte'\n  }, {\n    text: 'grid.filterAfterOperator',\n    operator: 'gt'\n  }, {\n    text: 'grid.filterBeforeOperator',\n    operator: 'lt'\n  }, {\n    text: 'grid.filterBeforeOrEqualOperator',\n    operator: 'lte'\n  }, {\n    text: 'grid.filterIsNullOperator',\n    operator: 'isnull'\n  }, {\n    text: 'grid.filterIsNotNullOperator',\n    operator: 'isnotnull'\n  }],\n  'boolean': [{\n    text: 'grid.filterEqOperator',\n    operator: 'eq'\n  }]\n};\n/**\n * @hidden\n */\n\nexport var IsUnaryFilter = function (operator) {\n  return operator === 'isnull' || operator === 'isnotnull' || operator === 'isempty' || operator === 'isnotempty';\n};\n/**\n * @hidden\n */\n\nexport var operatorMap = function (iterable, service) {\n  return iterable.map(function (operator) {\n    return {\n      text: service.toLanguageString(operator.text, messages[operator.text]),\n      operator: operator.operator\n    };\n  });\n};\n/**\n * @hidden\n */\n\nexport var defaultBooleanOperator = 'eq';\n/**\n * @hidden\n */\n\nexport var booleanFilterValues = [{\n  text: 'grid.filterBooleanAll',\n  operator: ''\n}, {\n  text: 'grid.filterIsTrue',\n  operator: true\n}, {\n  text: 'grid.filterIsFalse',\n  operator: false\n}];\n/**\n * @hidden\n */\n\nexport var defaultHideSecondFilter = {\n  text: false,\n  numeric: false,\n  date: false,\n  boolean: true\n};\n/**\n * @hidden\n */\n\nexport var cellInputChange = function (value, e, props) {\n  var defaultOperator = getDefaultOperator(props.operators);\n  var operator = props.operator;\n\n  switch (props.filterType) {\n    case 'numeric':\n      if (!operator || IsUnaryFilter(operator)) {\n        // change the operator to default\n        operator = defaultOperator;\n      }\n\n      if (value === null && operator === defaultOperator) {\n        // clear only the default operator\n        operator = '';\n      }\n\n      break;\n\n    case 'date':\n      if (!operator || IsUnaryFilter(operator)) {\n        operator = defaultOperator;\n      }\n\n      if (value === null && operator === defaultOperator) {\n        operator = '';\n      }\n\n      break;\n\n    case 'text':\n      if (!operator || IsUnaryFilter(operator)) {\n        operator = defaultOperator;\n      }\n\n      if (!value && operator === defaultOperator) {\n        operator = '';\n      }\n\n      break;\n\n    default:\n      return;\n  }\n\n  props.onChange({\n    value: value,\n    operator: operator,\n    syntheticEvent: e\n  });\n};\n/**\n * @hidden\n */\n\nexport var getDefaultOperator = function (filterOperators, filterType) {\n  if (filterType) {\n    return filterOperators[filterType][0].operator;\n  } else {\n    return filterOperators[0].operator;\n  }\n};\n/**\n * @hidden\n */\n\nexport var getFilterType = function (filterType) {\n  return filterType || 'text';\n};\n/**\n * @hidden\n */\n\nexport var cellBoolDropdownChange = function (event, onChange) {\n  var item = event.target.value;\n  onChange({\n    value: item.operator,\n    operator: item.operator === '' ? '' : defaultBooleanOperator,\n    syntheticEvent: event.syntheticEvent\n  });\n};\n/**\n * @hidden\n */\n\nexport var cellOperatorChange = function (event, currentValue, onChange) {\n  var value = currentValue;\n  var item = event.target.value;\n\n  if (!event.target.state.opened) {\n    return;\n  }\n\n  if (IsUnaryFilter(item.operator)) {\n    // clear the value to avoid confusion on what is filtered\n    value = null;\n  }\n\n  onChange({\n    value: value,\n    operator: item.operator,\n    syntheticEvent: event.syntheticEvent\n  });\n};","map":null,"metadata":{},"sourceType":"module"}